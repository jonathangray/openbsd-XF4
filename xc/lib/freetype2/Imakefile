XCOMM $XFree86: xc/lib/freetype2/Imakefile,v 1.4 2001/05/16 03:57:27 keithp Exp $

#define IHaveSubdirs
#define PassCDebugFlags

#define DoNormalLib NormalLibFreetype2
#define DoSharedLib SharedLibFreetype2
#define DoExtraLib SharedLibFreetype2
#define DoDebugLib DebugLibFreetype2
#define DoProfileLib ProfileLibFreetype2
#define HasSharedData YES
#define LibName freetype
#define SoRev SOFREETYPE2REV
#define LibHeaders NO

#include <Threads.tmpl>

FREETYPETOP = $(TOP)/extras/freetype2
FREETYPESRC = $(FREETYPETOP)/src
FREETYPEINC = $(FREETYPETOP)/include/freetype

INCLUDES = -I. $(FREETYPE2INCLUDES)\
	-I$(FREETYPESRC)\
	-I$(FREETYPESRC)/base\
	-I$(FREETYPESRC)/autohint\
	-I$(FREETYPESRC)/sfnt\
	-I$(FREETYPESRC)/cff\
	-I$(FREETYPESRC)/psnames\
	-I$(FREETYPESRC)/psaux\
	-I$(FREETYPESRC)/truetype\
	-I$(FREETYPESRC)/type1\
	-I$(FREETYPESRC)/cid\
	-I$(FREETYPESRC)/raster\
	-I$(FREETYPESRC)/smooth\
	-I$(FREETYPESRC)/winfonts\
	-I$(FREETYPESRC)/pcf

SUBDIRS=freetype

HEADERS=ft2build.h

SRCS_BASE = ftbase.c \
            ftbbox.c \
            ftdebug.c \
            ftextend.c \
            ftglyph.c \
            ftinit.c \
            ftmm.c \
            ftsynth.c \
            ftsystem.c

OBJS_BASE = ftbase.o \
            ftbbox.o \
            ftdebug.o \
            ftextend.o \
            ftglyph.o \
            ftinit.o \
            ftmm.o \
            ftsynth.o \
            ftsystem.o

SRCS_AUTOHINT = autohint.c
OBJS_AUTOHINT = autohint.o

SRCS_SFNT     = sfnt.c
OBJS_SFNT     = sfnt.o

SRCS_CFF      = cff.c
OBJS_CFF      = cff.o

SRCS_PSNAMES  = psnames.c
OBJS_PSNAMES  = psnames.o

SRCS_PSAUX    = psaux.c
OBJS_PSAUX    = psaux.o

SRCS_TRUETYPE = truetype.c
OBJS_TRUETYPE = truetype.o

SRCS_TYPE1    = type1.c
OBJS_TYPE1    = type1.o

SRCS_CID      = type1cid.c
OBJS_CID      = type1cid.o

SRCS_RASTER   = raster.c
OBJS_RASTER   = raster.o

SRCS_SMOOTH   = smooth.c
OBJS_SMOOTH   = smooth.o

SRCS_WINFONTS = winfnt.c
OBJS_WINFONTS = winfnt.o

SRCS_PCF = pcf.c
OBJS_PCF = pcf.o

SRCS = $(SRCS_BASE) $(SRCS_AUTOHINT) $(SRCS_SFNT) $(SRCS_CFF) \
	$(SRCS_PSNAMES) $(SRCS_PSAUX) $(SRCS_TRUETYPE) $(SRCS_TYPE1) \
	$(SRCS_CID) $(SRCS_RASTER) $(SRCS_SMOOTH) $(SRCS_WINFONTS) \
	$(SRCS_PCF)

OBJS = $(OBJS_BASE) $(OBJS_AUTOHINT) $(OBJS_SFNT) $(OBJS_CFF) \
	$(OBJS_PSNAMES) $(OBJS_PSAUX) $(OBJS_TRUETYPE) $(OBJS_TYPE1) \
	$(OBJS_CID) $(OBJS_RASTER) $(OBJS_SMOOTH) $(OBJS_WINFONTS) \
	$(OBJS_PCF)

#include <Library.tmpl>

#if DoSharedLib && SharedDataSeparation
SpecialCObjectRule(sharedlib,NullParameter,$(SHLIBDEF))
#endif

#if 0
MANSUFFIX = $(LIBMANSUFFIX)
InstallManPage(Freetype,$(LIBMANDIR))
#endif

BuildIncludes($(HEADERS),freetype2,..)
InstallMultipleFlags($(HEADERS),$(INCDIR)/freetype2,$(INSTINCFLAGS))

LinkSourceFile(ft2build.h,$(FREETYPETOP)/include)

LinkSourceFile(ftbase.c,$(FREETYPESRC)/base)
LinkSourceFile(ftbbox.c,$(FREETYPESRC)/base)
LinkSourceFile(ftdebug.c,$(FREETYPESRC)/base)
LinkSourceFile(ftextend.c,$(FREETYPESRC)/base)
LinkSourceFile(ftglyph.c,$(FREETYPESRC)/base)
LinkSourceFile(ftinit.c,$(FREETYPESRC)/base)
LinkSourceFile(ftlist.c,$(FREETYPESRC)/base)
LinkSourceFile(ftmm.c,$(FREETYPESRC)/base)
LinkSourceFile(ftsynth.c,$(FREETYPESRC)/base)
LinkSourceFile(ftsystem.c,$(FREETYPESRC)/base)

LinkSourceFile(autohint.c,$(FREETYPESRC)/autohint)
LinkSourceFile(sfnt.c,$(FREETYPESRC)/sfnt)
LinkSourceFile(cff.c,$(FREETYPESRC)/cff)
LinkSourceFile(psnames.c,$(FREETYPESRC)/psnames)
LinkSourceFile(psaux.c,$(FREETYPESRC)/psaux)
LinkSourceFile(truetype.c,$(FREETYPESRC)/truetype)
LinkSourceFile(type1.c,$(FREETYPESRC)/type1)
LinkSourceFile(type1cid.c,$(FREETYPESRC)/cid)
LinkSourceFile(raster.c,$(FREETYPESRC)/raster)
LinkSourceFile(smooth.c,$(FREETYPESRC)/smooth)
LinkSourceFile(winfnt.c,$(FREETYPESRC)/winfonts)
LinkSourceFile(pcf.c,$(FREETYPESRC)/pcf)

DependTarget()

DependSubdirs($(SUBDIRS))
