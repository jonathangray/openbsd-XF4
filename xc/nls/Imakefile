XCOMM $Xorg: Imakefile,v 1.3 2000/08/17 19:46:48 cpqbld Exp $




XCOMM $XFree86: xc/nls/Imakefile,v 1.6 2001/01/17 19:37:04 dawes Exp $

#define IHaveSubdirs
#define PassCDebugFlags

        SUBDIRS = XLC_LOCALE Compose
#if defined(FreeBSDArchitecture)
  RU_SU_DEFINES = -DINCLUDE_ru_SU
#endif
        DEFINES = -DR63_COMPAT $(RU_SU_DEFINES)

MakeSubdirs($(SUBDIRS))
DependSubdirs($(SUBDIRS))

#ifndef Win32Architecture
#ifndef OS2Architecture
# define LTarget(name)							@@\
all:: name.lt								@@\
									@@\
CppFileTarget(name.lt,name,$(DEFINES),NullParameter)			@@\
									@@\
all:: name.lt								@@\
	MakeDir($(BUILDLIBDIR)/locale)					@@\
	RemoveFile($(BUILDLIBDIR)/locale/name)				@@\
	cd $(BUILDLIBDIR)/locale && $(LN) $(BUILDLIBTOP)/../$(CURRENT_DIR)/name.lt name @@\
InstallNamedNonExec(name.lt,name,$(XLOCALEDIR))
#else
# define LTarget(name)							@@\
all:: name.lt								@@\
									@@\
CppFileTarget(name.lt,name,$(DEFINES),NullParameter)			@@\
									@@\
all:: name.lt								@@\
	MakeDir($(BUILDLIBDIR)/locale)					@@\
	LinkFileSpecial($(BUILDLIBDIR)/locale,name,$(BUILDLIBTOP)/../../$(CURRENT_DIR)/name.lt) @@\
									@@\
InstallNamedNonExec(name.lt,name,$(XLOCALEDIR))
#endif
#else
# define LTarget(name)							@@\
all:: name.lt								@@\
									@@\
CppFileTarget(name.lt,name,$(DEFINES),NullParameter)			@@\
									@@\
all:: name.lt								@@\
	MakeDir($(BUILDLIBDIR:/=\)\locale)				@@\
	RemoveFile(Concat($(BUILDLIBDIR:/=\)\locale\,name))		@@\
	cd $(BUILDLIBDIR:/=\)\locale && $(LN) Concat($(BUILDLIBTOP:/=\)\..\$(CURRENT_DIR:/=\)\,name.lt) name @@\
InstallNamedNonExec(name.lt,name,$(XLOCALEDIR))
#endif

LTarget(locale.alias)
LTarget(locale.dir)
LTarget(compose.dir)
