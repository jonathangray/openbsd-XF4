XCOMM $XFree86: xc/programs/Xserver/hw/xfree86/os-support/vbe/Imakefile,v 1.10 2001/08/17 22:08:15 tsi Exp $

#define IHaveModules
#include <Server.tmpl>

#if DoLoadableServer
MODSRC = vbe_module.c
MODOBJ = vbe_module.o
#endif

SRCS = vbe.c $(MODSRC)
OBJS = vbe.o $(MODOBJ)

INCLUDES = -I. -I$(XF86COMSRC) -I$(XF86OSSRC) \
           -I$(SERVERSRC)/include -I$(XINCLUDESRC) \
	   -I$(XF86SRC)/int10 -I$(XF86SRC)/ddc \
	   -I$(XF86SRC)/i2c

ModuleObjectRule()

#if DoLoadableServer

LibraryModuleTarget(vbe, $(OBJS))
InstallLibraryModule(vbe,$(MODULEDIR),.)

#else

SubdirLibraryRule($(OBJS))

#endif

DependTarget()

InstallDriverSDKLibraryModule(vbe,$(DRIVERSDKMODULEDIR),.)

InstallDriverSDKNonExecFile(vbe.h,$(DRIVERSDKINCLUDEDIR))

