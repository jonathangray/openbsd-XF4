/* $XFree86: xc/programs/Xserver/hw/xfree86/drivers/sis/init300.h,v 1.4 2000/12/02 01:16:16 dawes Exp $ */

#include "initdef.h"

USHORT DRAMType[17][5]={{0x0C,0x0A,0x02,0x40,0x39},{0x0D,0x0A,0x01,0x40,0x48},
                     {0x0C,0x09,0x02,0x20,0x35},{0x0D,0x09,0x01,0x20,0x44},
                     {0x0C,0x08,0x02,0x10,0x31},{0x0D,0x08,0x01,0x10,0x40},
                     {0x0C,0x0A,0x01,0x20,0x34},{0x0C,0x09,0x01,0x08,0x32},
                     {0x0B,0x08,0x02,0x08,0x21},{0x0C,0x08,0x01,0x08,0x30},
                     {0x0A,0x08,0x02,0x04,0x11},{0x0B,0x0A,0x01,0x10,0x28},
                     {0x09,0x08,0x02,0x02,0x01},{0x0B,0x09,0x01,0x08,0x24},
                     {0x0B,0x08,0x01,0x04,0x20},{0x0A,0x08,0x01,0x02,0x10},
                     {0x09,0x08,0x01,0x01,0x00}};

USHORT MDA_DAC[]={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
               0x15,0x15,0x15,0x15,0x15,0x15,0x15,0x15,
               0x15,0x15,0x15,0x15,0x15,0x15,0x15,0x15,
               0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
               0x15,0x15,0x15,0x15,0x15,0x15,0x15,0x15,
               0x15,0x15,0x15,0x15,0x15,0x15,0x15,0x15,
               0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F};

USHORT CGA_DAC[]={0x00,0x10,0x04,0x14,0x01,0x11,0x09,0x15,
               0x00,0x10,0x04,0x14,0x01,0x11,0x09,0x15,
               0x2A,0x3A,0x2E,0x3E,0x2B,0x3B,0x2F,0x3F,
               0x2A,0x3A,0x2E,0x3E,0x2B,0x3B,0x2F,0x3F,
               0x00,0x10,0x04,0x14,0x01,0x11,0x09,0x15,
               0x00,0x10,0x04,0x14,0x01,0x11,0x09,0x15,
               0x2A,0x3A,0x2E,0x3E,0x2B,0x3B,0x2F,0x3F,
               0x2A,0x3A,0x2E,0x3E,0x2B,0x3B,0x2F,0x3F};

USHORT EGA_DAC[]={0x00,0x10,0x04,0x14,0x01,0x11,0x05,0x15,
               0x20,0x30,0x24,0x34,0x21,0x31,0x25,0x35,
               0x08,0x18,0x0C,0x1C,0x09,0x19,0x0D,0x1D,
               0x28,0x38,0x2C,0x3C,0x29,0x39,0x2D,0x3D,
               0x02,0x12,0x06,0x16,0x03,0x13,0x07,0x17,
               0x22,0x32,0x26,0x36,0x23,0x33,0x27,0x37,
               0x0A,0x1A,0x0E,0x1E,0x0B,0x1B,0x0F,0x1F,
               0x2A,0x3A,0x2E,0x3E,0x2B,0x3B,0x2F,0x3F};

USHORT VGA_DAC[]={0x00,0x10,0x04,0x14,0x01,0x11,0x09,0x15,
               0x2A,0x3A,0x2E,0x3E,0x2B,0x3B,0x2F,0x3F,
               0x00,0x05,0x08,0x0B,0x0E,0x11,0x14,0x18,
               0x1C,0x20,0x24,0x28,0x2D,0x32,0x38,0x3F,

               0x00,0x10,0x1F,0x2F,0x3F,0x1F,0x27,0x2F,
               0x37,0x3F,0x2D,0x31,0x36,0x3A,0x3F,0x00,
               0x07,0x0E,0x15,0x1C,0x0E,0x11,0x15,0x18,
               0x1C,0x14,0x16,0x18,0x1A,0x1C,0x00,0x04,
               0x08,0x0C,0x10,0x08,0x0A,0x0C,0x0E,0x10,
               0x0B,0x0C,0x0D,0x0F,0x10};

USHORT  ModeIndex_640x480[]   = {0x2E, 0x44, 0x45, 0x62};
USHORT  ModeIndex_720x480[]   = {0x31, 0x33, 0x00, 0x35};
USHORT  ModeIndex_720x576[]   = {0x32, 0x34, 0x00, 0x36};
USHORT  ModeIndex_800x600[]   = {0x30, 0x47, 0x48, 0x63};
USHORT  ModeIndex_1024x768[]  = {0x38, 0x4A, 0x4B, 0x64};
USHORT  ModeIndex_1280x1024[] = {0x3A, 0x4D, 0x4E, 0x65};
USHORT  ModeIndex_1600x1200[] = {0x3C, 0x3D, 0x3E, 0x66};
USHORT  RefreshRate[7][8] = { 
                        {60, 72, 75, 85, 100, 120, 160, 200},
                        {56, 60, 72, 75,  85, 100, 120, 160},
                        {43, 60, 70, 75,  85, 100, 120,   0},
                        {43, 60, 75, 85,   0,   0,   0,   0},
                        {60, 65, 70, 75,  85,   0,   0,   0},
                        {60, 0 , 0 , 0 , 0  , 0  , 0  , 0  },
                        {60, 0 , 0 , 0 , 0  , 0  , 0  , 0  }};

USHORT   P3c4,P3d4,P3c0,P3ce,P3c2,P3ca,P3c6,P3c7,P3c8,P3c9,P3da;
USHORT   CRT1VCLKLen;      /*VCLKData table length of bytes of each entry*/
USHORT   flag_clearbuffer; /*0: no clear frame buffer 1:clear frame buffer*/
int      RAMType;
int      ModeIDOffset,StandTable,CRT1Table,ScreenOffset,VCLKData,MCLKData, ECLKData;
int      REFIndex,ModeType;
USHORT   IF_DEF_LVDS;
USHORT	 IF_DEF_HiVision;
USHORT   IF_DEF_CH7005;
USHORT   VBInfo,LCDResInfo,LCDTypeInfo,LCDInfo;

USHORT   CalcRefreshRate(ScrnInfoPtr, DisplayModePtr);
USHORT   CalcModeIndex(ScrnInfoPtr, DisplayModePtr);
BOOLEAN  SearchModeID(ULONG, USHORT);
BOOLEAN  CheckMemorySize(ULONG);
VOID     GetModePtr(ULONG, USHORT);
BOOLEAN  GetRatePtr(ULONG, USHORT);
VOID     SetSeqRegs(ULONG);
VOID     SetMiscRegs(ULONG);
VOID     SetCRTCRegs(ULONG);
VOID     SetATTRegs(ULONG);
VOID     SetGRCRegs(ULONG);
VOID     ClearExt1Regs(VOID);
VOID     SetSync(ULONG);
VOID     SetCRT1CRTC(ULONG);
VOID     SetCRT1Offset(ULONG);
VOID     SetCRT1FIFO(ULONG);
VOID     SetCRT1FIFO2(ULONG);
VOID     SetCRT1VCLK(ULONG);
VOID     LoadDAC(ULONG);
VOID     DisplayOn();
VOID     DisplayOff();
VOID     SetPitch(ScrnInfoPtr, USHORT);
VOID     SetCRT1ModeRegs(ULONG, USHORT);
VOID     SetVCLKState(ULONG, USHORT);
VOID     WriteDAC(USHORT, USHORT, USHORT, USHORT);
USHORT   GetModeIDLength(ULONG, USHORT);
USHORT   GetRefindexLength(ULONG, USHORT);
VOID     SetInterlace(ULONG, USHORT);
USHORT   CalcDelay2(ULONG ,USHORT);
USHORT   CalcDelay(ULONG ,USHORT);
VOID     WaitVertical(VOID);

extern BOOLEAN SetCRT2Group(USHORT BaseAddr,ULONG ROMAddr,USHORT ModeNo,ScrnInfoPtr pScrn);
extern VOID GetVBInfo(USHORT BaseAddr,ULONG ROMAddr);
extern VOID PresetScratchregister(USHORT P3d4);
extern BOOLEAN GetLCDResInfo(ULONG ROMAddr, USHORT P3d4);
extern VOID SetTVSystem();
extern BOOLEAN GetLCDDDCInfo(ScrnInfoPtr pScrn);
extern USHORT GetVCLKLen(ULONG ROMAddr);
extern USHORT Part1[];
