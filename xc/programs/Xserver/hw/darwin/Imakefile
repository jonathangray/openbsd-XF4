XCOMM $XFree86: xc/programs/Xserver/hw/darwin/Imakefile,v 1.12 2002/01/09 18:07:23 torrey Exp $

#include <Server.tmpl>
#define IHaveSubdirs

LinkSourceFile(XFree86.man,../xfree86)

SRCS =	darwin.c \
        darwinKeyboard.c \
        xfIOKit.c \
        xfIOKitCursor.c

OBJS =	darwin.o \
        darwinKeyboard.o \
        xfIOKit.o \
        xfIOKitCursor.o

INCLUDES = -I. -I$(SERVERSRC)/mi -I$(SERVERSRC)/fb -I$(EXTINCSRC) \
           -I$(SERVERSRC)/render -I$(SERVERSRC)/include -I$(XINCLUDESRC) \
           -I$(SERVERSRC)/os -I$(INCLUDESRC) -I$(FONTINCSRC)

#if defined(XFree86CustomVersion)
CUSTOMVERSION = XFree86CustomVersion
CUSTOMVERDEF =  -DXF86_CUSTOM_VERSION='$(CUSTOMVERSION)'
#endif

#if DarwinQuartzSupport
SUBDIRS = bundle utils
QUARTZDEF = -DDARWIN_WITH_QUARTZ
#else
SUBDIRS = utils
#endif

DEFINES = $(CUSTOMVERDEF) $(QUARTZDEF)
EXTRAMANDEFS = $(QUARTZDEF) -D__logdir__=$(LOGDIRECTORY)

NormalLibraryObjectRule()
NormalLibraryTarget(darwin,$(OBJS))

AllTarget(xfIOKitStartup.o)

InstallManPage(XDarwin,$(MANDIR))
InstallManPage(XFree86,$(MANDIR))

DependTarget()

MakeSubdirs($(SUBDIRS))
DependSubdirs($(SUBDIRS))
